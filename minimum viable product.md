# Minimum Viable Product 最小可行产品

目标针对早期客户，只实现录入，查询，展示这三个主要功能。

针对每个功能下的子功能，计划是 精简子功能的个数，但是尽量让代码在以后也可以复用。

## 查询功能

先使用伪数据，或者少量的真实数据

定义以下几种查询方法

- 用户输入“姓名”查询八字条目
- 用户输入“八字”查询
- 用户定义“日干月支”组合查询八字

## 展示功能

此功能市面上几乎所有软件都已经实现过了，

因此MVP阶段只需要实现最简单的以下几点：

- 带配色的八字，包括十神，地支藏干，个别神煞
- 八字信息的来源，点评等

“十神，地支藏干，个别神煞”的算法并不复杂，可以在前端直接实现，在npm上没找到现成的库，只能自己写一个

## 录入功能

此功能由于涉及万年历，所以算法会极其复杂。好消息是已经有了很多现成的库，坏消息是没有找到js的，所以可能只能在后端运行。

现在对目前找到的做得比较好的库，做个梳理

首先是许剑伟老师的 -> 寿星天文历 http://www.nongli.net/sxwnl/ ， 纯html和js写的，根据天文学公式，实现了几乎不限年限的万年历，并提供节气时间，日出日落时间。但是现在已经不更新了。

后来就有爱好者，用别的语言实现了许老师的算法，其中做得比较好的是 https://github.com/yuangu/sxtwl_cpp/tree/master ， cpp写的，提供了python接口。

作者本人也实现了js版的通俗万年历，但是很可惜不开源。不过我也发现了一些存在的可以改进的地方：

- 节气的具体时间，和NASA提供的数据有几秒钟的误差（https://github.com/kumkee/solarterms）
- 边界问题的处理可以提升，不然会导致部分八字无法录入
- 八字反查功能没有很好实现

所以其实这个项目目前技术上的难点就在于实现一个专业的万年历，实现之前是不是可以做一个专门针对八字万年历的js库

