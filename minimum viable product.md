# Minimum Viable Product 最小可行产品

目标针对早期客户，只实现录入，查询，展示这三个主要功能。

现在对目前找到的做得比较好的成品，做个梳理：

首先是许剑伟老师的 -> 寿星天文历 http://www.nongli.net/sxwnl/ ， 纯html和js写的，根据天文学公式，实现了几乎不限年限的万年历，并提供节气时间，日出日落时间。但是现在已经不更新了。

后来就有爱好者，用别的语言实现了许老师的算法，其中做得比较好的是 https://github.com/yuangu/sxtwl_cpp/tree/master ， cpp写的，提供了python接口。

作者本人也实现了js版的通俗万年历，但是很可惜不开源。所以打算复刻一个，顺便改进一些地方。

- 节气的具体时间，和NASA提供的数据有几秒钟的误差（https://github.com/kumkee/solarterms）
- 边界问题的处理可以提升，不然会导致部分八字无法录入
- 八字反查功能没有很好实现

另外发现了一个js库，https://6tail.cn/calendar/api.html#lunar.bazi.html ， 几乎实现了八字所有需要的功能，省了很多事情。。（甚至考虑在MVP中实现完整的反查功能了）

针对每个功能下的子功能，计划是 精简子功能的个数，但是尽量让代码在以后也可以复用。

## 查询功能

先使用伪数据，或者少量的真实数据

预定义以下几种查询方法

- 用户输入“姓名”查询八字条目
- 用户输入“八字”查询
- 用户定义“日干月支”组合查询八字

## 展示功能

此功能市面上几乎所有软件都已经实现过了，因此MVP阶段只需要直接调用lunar库就行了

附加下面的：

- 带配色的八字，包括十神，地支藏干，个别神煞
- 八字信息的来源，点评等

“神煞”的算法在lunar库中并没有实现，不过算法很简单，可以考虑自己写完merge到lunar里。

关于神煞算法我会另写一篇

## 录入功能

### 录入步骤mockup

<img width="2570" alt="image" src="https://github.com/sinoastro/bazi-numerology/assets/88317769/74edc959-26c3-467a-a378-88b6caf38377">

关于第五点，保存八字需要的模版，需要包含以下：

**必填的：** 性别，八字来源，出生地

**可选填的：** 关于八字的备注，姓名等
